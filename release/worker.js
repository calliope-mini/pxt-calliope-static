importScripts("/pxtworker.js");var pm=postMessage;"undefined"==typeof btoa&&(ts.pxtc.encodeBase64=function(r){function e(r){return r<=25?r+65:r<=51?r+71:r<=61?r-4:62==r?43:47}for(var t=new Array,o=0,n=0,a=0;a<r.length;a++){var i=r.charCodeAt(a);if(255<i)return;0==o?(t.push(String.fromCharCode(e(i>>2))),o=1,n=(3&i)<<4):1==o?(t.push(String.fromCharCode(e(n|i>>4))),n=(15&i)<<(o=2)):2==o&&(t.push(String.fromCharCode(e(n|i>>6),e(63&i))),n=o=0)}return 1==o?t.push(String.fromCharCode(e(n),61,61)):2==o&&t.push(String.fromCharCode(e(n),61)),t.join("")}),"undefined"==typeof atob&&(ts.pxtc.decodeBase64=function(r){function e(r){return 47==r?63:43==r?62:r<=57?r+4:r<=90?r-65:r-71}function t(r,e,t){for(var o=0,n=0;n<=r-e;n++)o=1+(o<<1);return t>>e&o}for(var o=new Array,n=!0,a=!1,i=!1,p=!1,y=!1,l=!1,u=0,s=new RegExp("^([A-Za-z0-9+/=])$"),f=0;f<r.length;f++){var c=r.charCodeAt(f);if(!String.fromCharCode(c).match(s)||61==c&&(n||a)||61==c&&0!=u||61!=c&&y||l)return;n?(u=e(c)<<2,l=y=p=i=!(a=!(n=!1))):a?(o.push(String.fromCharCode(u|t(5,4,e(c)))),u=(15&e(c))<<4,l=y=p=!(i=!(a=n=!1))):i?61==c?(u=0,l=!(y=!(p=i=a=n=!1))):(o.push(String.fromCharCode(u|t(5,2,e(c)))),u=(3&e(c))<<6,l=y=!(p=!(i=a=n=!1))):p?61==c?(u=0,l=!(y=p=i=a=n=!1)):(o.push(String.fromCharCode(u|e(c))),l=y=p=i=a=!(n=!(u=0))):y&&(u=0,l=!(y=p=i=a=n=!1))}if(n||l)return o.join("")}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(r,e){return void 0!==r&&null!=r&&(e=!e||e<0?0:+e,this.substring(e,e+r.length)===r)}}),Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice,writable:!0,enumerable:!0}),Uint16Array.prototype.slice||Object.defineProperty(Uint16Array.prototype,"slice",{value:Array.prototype.slice,writable:!0,enumerable:!0}),Uint32Array.prototype.slice||Object.defineProperty(Uint32Array.prototype,"slice",{value:Array.prototype.slice,writable:!0,enumerable:!0}),Uint8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some,writable:!0,enumerable:!0}),Uint16Array.prototype.some||Object.defineProperty(Uint16Array.prototype,"some",{value:Array.prototype.some,writable:!0,enumerable:!0}),Uint32Array.prototype.some||Object.defineProperty(Uint32Array.prototype,"some",{value:Array.prototype.some,writable:!0,enumerable:!0}),Uint8Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse,writable:!0,enumerable:!0}),Uint16Array.prototype.reverse||Object.defineProperty(Uint16Array.prototype,"reverse",{value:Array.prototype.reverse,writable:!0,enumerable:!0}),Uint32Array.prototype.reverse||Object.defineProperty(Uint32Array.prototype,"reverse",{value:Array.prototype.reverse,writable:!0,enumerable:!0}),Uint8Array.prototype.fill||Object.defineProperty(Uint8Array.prototype,"fill",{writable:!0,enumerable:!0,value:function(r){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),t=e.length>>>0,o=arguments[1]>>0,n=o<0?Math.max(t+o,0):Math.min(o,t),a=arguments[2],i=void 0===a?t:a>>0,p=i<0?Math.max(t+i,0):Math.min(i,t);n<p;)e[n]=r,n++;return e}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{writable:!0,enumerable:!0,value:function(r){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),t=e.length>>>0;if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var o=arguments[1],n=0;n<t;){var a=e[n];if(r.call(o,a,n,e))return a;n++}}}),Math.imul||(Math.imul=function(r,e){var t=65535&r,o=65535&e;return t*o+((r>>>16&65535)*o+t*(e>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(r,e){"use strict";if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),o=1;o<arguments.length;o++){var n=arguments[o];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},writable:!0,configurable:!0}),onmessage=function(r){var e=pxtc.service.performOperation(r.data.op,r.data.arg);pm({op:r.data.op,id:r.data.id,result:JSON.parse(JSON.stringify(e))})},pm({id:"ready"});